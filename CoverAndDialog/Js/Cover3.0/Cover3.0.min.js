(function(){var a=function(d){var c={width:"auto",height:"auto",top:"auto",left:"auto",innerMargin:30,html:"<h3>Hello world<br><br></h3>",onOpen:function(e){},onDestroy:function(){},clickDestroy:true,autoDestroy:false,destroyTime:1500,borderRadius:"5%",resize:true,destroyType:"fadeOut",scrollHide:false};this.opts=$.extend({},c,d)};function b(c){var d=$("<div />");d.addClass(c);return d}a.prototype={init:function(){var d=this;var c=this.opts;d.createContainer();d.initContainer();d.createInner();d.initInner();if(c.onOpen){c.onOpen(d.getContainer())}if(c.autoDestroy==true){setTimeout(function(){d.destroy()},c.destroyTime)}},destroy:function(){var d=this;var c=this.opts;var e=d.getContainer();var f=d.getInner();if(c.destroyType=="slideUp"){f.animate({height:0,padding:0},"fast",function(){f.remove()});e.animate({height:0},"slow",function(){e.remove();$("html,body").removeClass("bodyOver");if(c.onDestroy){c.onDestroy()}})}else{if(c.destroyType=="fadeOut"){f.fadeOut("normal");e.fadeOut("slow",function(){e.remove();$("html,body").removeClass("bodyOver");if(c.onDestroy){c.onDestroy()}})}}},setHtml:function(d){var c=this;var e=c.getInner();e.find(".coverContent").html(d)},createContainer:function(){var d=this;var c=this.opts;$(".coverContainer").remove();var f=b("coverContainer");var e=b("coverBack");if(c.clickDestroy==true){e.off("click").on("click",function(){d.destroy();return false})}f.append(e);if(c.scrollHide){$("html,body").addClass("bodyOver")}$(document.body).append(f);if(c.resize){$(window).off("resize").on("resize",function(){d.initInner()})}},initContainer:function(){var d=this;var c=this.opts;var e=d.getContainer();e.css({left:0,top:0})},getContainer:function(){return $(".coverContainer")},createInner:function(){var d=this;var c=this.opts;var f=b("coverUp");var g=b("coverInner");var e=b("coverContent");e.html(c.html);g.append(e);f.append(g);$(".coverContainer").append(f)},initInner:function(){var d=this;var c=this.opts;var e=d.getContainer();var f=d.getInner();f.fadeIn("normal");setTimeout(function(){f.addClass("coverInner-show ")},30);f.css("border-radius",c.borderRadius);if(c.width=="auto"){f.width(e.width()-c.innerMargin*2)}else{f.width(c.width)}if(c.height!="auto"){f.height(c.height)}var h=(e.height()-f.height())/2;if(c.top!="auto"){h=c.top}var g=(e.width()-f.outerWidth())/2;if(c.left!="auto"){g:c.left}f.css({left:g,top:h})},getInner:function(){return $(".coverInner")}};$.cover=function(d){var c=new a(d);c.init();return c}})(jQuery);(function(){var a=function(d){var c={width:500,height:320,top:"auto",left:"auto",showIcon:true,title:"用户名",content:'<h5>hello word</h5><div class="testBack"></div><div class="innerSite"></div>',onOpen:function(e){},onDestroy:function(){},padding:"10px 20px",enableMove:true,clickDestroy:false,showCloseBtn:true,resizeSite:true,showTest:true};this.opts=$.extend({},c,d)};function b(c){var d=$("<div />");d.addClass(c);return d}a.prototype={init:function(){var d=this;var c=this.opts;var e=$.cover({width:c.width,height:c.height,top:c.top,left:c.left,clickDestroy:c.clickDestroy,innerMargin:0,borderRadius:10,resize:c.resizeSite});d.cover=e;d.createContainer();if(c.onOpen){c.onOpen(d.getContainer())}},setContent:function(e){var c=this;var d=c.getContainer();d.find(".dialogInnerContent").html(e)},setTitle:function(d){var c=this;var e=c.getTitleBar();e.find(".dialogTitle").html(d)},setIcon:function(d){var c=this;var e=c.getTitleBar();e.find(".dialogIcon").addClass(d)},createContainer:function(){var d=this;var c=this.cover;var e=b("dialogContainer");var f=c.getInner();f.empty().append(e);d.initContainer();d.createTitleBar();d.bingTitleBar();d.createInnter()},initContainer:function(){var d=this;var c=this.opts;var e=d.getContainer();e.css({width:c.width,height:c.height})},getContainer:function(){return $(".dialogContainer")},createTitleBar:function(){var d=this;var c=this.opts;var e=d.getContainer();var h=b("dialogTitleBar");if(c.showIcon){var f=b("dialogIcon");h.append(f)}var g=b("dialogTitle");g.html(c.title);h.append(g);e.append(h);d.createCloseBtn()},bingTitleBar:function(){var e=this;var c=this.cover;var d=this.opts;var k=e.getTitleBar();var f=c.getContainer();k.on("selectstart",function(){return false});if(d.enableMove){var g=c.getInner();var i=0,j=0,h=false;k.mousedown(function(l){h=true;i=l.pageX-g.position().left;j=l.pageY-g.position().top;return false});f.mousemove(function(l){if(h){var m=l.pageX-i;var n=l.pageY-j;g.css({left:m,top:n})}});$(document).mouseup(function(){h=false;i=0;j=0})}},getTitleBar:function(){return $(".dialogTitleBar")},createCloseBtn:function(){var d=this;var c=this.cover;var e=b("closeBtn");e.text("×");e.off("click").on("click",function(){d.destroy()});var f=d.getTitleBar();f.append(e);f.append(b("clear"))},createInnter:function(){var d=this;var c=this.opts;var e=d.getContainer();var g=b("dialotInner");var f=b("dialogInnerContent");f.html(c.content);g.append(f);g.css("padding",c.padding);e.append(g)},getDialogInnerContent:function(){return $(".dialogInnerContent")},destroy:function(){this.cover.destroy();var c=this.opts;if(c.onDestroy){c.onDestroy()}}};$.dialog=function(d){var c=new a(d);c.init();return c}})(jQuery);